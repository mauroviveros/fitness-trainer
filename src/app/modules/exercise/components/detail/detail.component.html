<mat-toolbar mat-dialog-title>{{ title | titlecase }}</mat-toolbar>

<mat-dialog-content>
  <mat-progress-bar mode="indeterminate" *ngIf="isSaving"></mat-progress-bar>
  <form [formGroup]="form" id="Exercise" (submit)="submit()">
    <mat-form-field>
      <mat-label>Nombre</mat-label>
      <mat-icon color="primary" matIconPrefix>label</mat-icon>
      <input type="text" formControlName="name" placeholder="Ingrese el nombre del ejercicio" matInput #inputName />
      <mat-hint align="end">{{ inputName.value.length }}/{{ MAX_LENGTH }}</mat-hint>
      <mat-error>{{ form.controls['name'].errors | error : MAX_LENGTH }}</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Tipo de ejercicio</mat-label>
      <mat-icon color="primary" matIconPrefix>{{ categoryIcon }}</mat-icon>
      <mat-error>{{ form.controls['category'].errors | error }}</mat-error>
      <mat-select formControlName="category" placeholder="Seleccione el tipo de ejercicio">
        <mat-option *ngFor="let category of categories" [value]="category._id">
          <mat-icon color="primary" matIconPrefix>{{ category.icon }}</mat-icon>
          <span>{{ category.name }}</span>
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>URL del video</mat-label>
      <mat-icon color="primary" matIconPrefix>videocam</mat-icon>
      <mat-error>{{ form.controls['video'].errors | error }}</mat-error>
      <mat-hint>Solo videos de Vimeo o YouTube</mat-hint>
      <input type="url" formControlName="video" placeholder="Ingrese la URL del video" matInput />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Descripción</mat-label>
      <mat-icon color="primary" matIconPrefix>description</mat-icon>
      <mat-error>{{ form.controls['description'].errors | error }}</mat-error>
      <textarea formControlName="description" placeholder="Ingrese una descripción del ejercicio" [rows]="3" matInput></textarea>
    </mat-form-field>
  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button type="button" color="primary" *ngIf="!isSaving" mat-button mat-dialog-close>{{ mode === 3 ? 'aceptar' : 'cancelar' }}</button>
  <button type="submit" color="primary" form="Exercise" [disabled]="isSaving || form.invalid" *ngIf="mode !== 3" mat-raised-button>guardar</button>
</mat-dialog-actions>
